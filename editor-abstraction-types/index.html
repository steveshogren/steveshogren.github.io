<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Powerful Editor Abstractions  &middot; deliberate software</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Powerful Editor Abstractions  &middot; deliberate software ">
<meta property="og:site_name" content="deliberate software"/>
<meta property="og:url" content="http://deliberate-software.com/editor-abstraction-types/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2022-08-02T00:00:00Z" />
<meta property="og:article:modified_time" content="2022-08-02T00:00:00Z" />

  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Powerful Editor Abstractions",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2022-08-02",
    "description": "",
    "wordCount":  1226 
  }
</script>


<link rel="canonical" href="http://deliberate-software.com/editor-abstraction-types/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://deliberate-software.com/touch-icon-144-precomposed.png">
<link href="http://deliberate-software.com/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.68.3" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->


    <link rel="stylesheet" href="http://deliberate-software.com/css/fontimport.css">




    <link rel="stylesheet" href="http://deliberate-software.com/css/theme/yeti.css">


<link rel="stylesheet" href="http://deliberate-software.com/css/font-awesome.min.css">
<link rel="stylesheet" href="http://deliberate-software.com/css/style.css">
<link rel="stylesheet" href="http://deliberate-software.com/css/github-calendar.css">


  <link rel="stylesheet" href="http://deliberate-software.com/css/highlight/default.css">


</head>
<body class="map[name:yeti]">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header ">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://deliberate-software.com/">deliberate software</a>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav navbar-right">
            <li><a href="https://www.github.com/steveshogren"><span class="fa fa-github-square"></span> GitHub</a></li>
            <li><a href="/index.xml" rel="alternate" type="application/rss+xml"> <span class="fa fa-rss-square"></span> RSS</a></li>
          
          <li>
            <a href="http://deliberate-software.com/page/books"
             title="Show list of my favorite books">
            
            favorite books
            </a>
          </li>
          
          <li>
            <a href="http://deliberate-software.com/page/philosophy"
             title="About me">
            
            about me
            </a>
          </li>
          
          <li>
            <a href="http://deliberate-software.com/page/post"
             title="Show list of posts">
            
            all posts
            </a>
          </li>
          
        </ul>
      </div>
      
    </div>
  </nav>

</header>



<div class="centereded pagetopbookbar">
  <a href="https://leanpub.com/deliberatevim"
     style="color:white"
     role="button"><span class="thevimlink"></span> <span style="text-decoration:underline">10 Minute Vim</span>!</a>
</div>
<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">
      
<div class="text-center">
  <h1 class="centereded">Powerful Editor Abstractions
</h1>


  
<div class="metas col-md-12">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2022-08-02">2 Aug, 2022</time>
</small>


  <small>
  &middot; Read in about 6 min
  &middot; (1226 Words)
</small>



<div class="margin-12">
  <i class="fa fa-tags"></i>
  
  <a href="http://deliberate-software.com/categories/technical-skills" class="label label-default">technical skills</a>
  
  <a href="http://deliberate-software.com/categories/vim" class="label label-default">vim</a>
  

 </div>
<br>
</div>

</div>

      <div class="">
    
  <div class="content">
    <p>Not all editing tools are created equal.</p>
<blockquote>
<p>Combining several simple ideas into one compound one, and thus all complex
ideas are made - John Locke, An Essay Concerning Human Understanding (1690)</p>
</blockquote>
<p>While many words have been spent on the Holy Editor Flame Wars, I&rsquo;ve read very
little that attempts to categorize <em>what they actually do</em>. Likewise, everyone
pays homage to the concept of using the &ldquo;best tool for the job&rdquo;, but few talk
about when each tool would be best.</p>
<p>Our editors provide abstractions classified into three main categories:</p>
<ol>
<li>Semantic Tools</li>
<li>Run-time Inspection Tools</li>
<li>Text-based Tools</li>
</ol>
<hr>
<h2 id="semantic-tools">Semantic Tools</h2>
<p>Five abstractions are the core of Semantic Tools. If we had nothing else but
these, we would have quite a bit indeed! These make a huge program much more
manageable.</p>
<ul>
<li><strong>Language Errors</strong> - Indicate code that violates the rules of the language</li>
<li><strong>Find All References</strong> - See a list of all usages of a field, function, or class</li>
<li><strong>Rename Symbol</strong> - Rename the current field, function, or class</li>
<li><strong>Auto-complete</strong> - Show a list of possible symbols to complete section,
ideally with documentation</li>
<li><strong>Go To Definition</strong> - Move editor to the symbol&rsquo;s defined location</li>
</ul>
<p>These actions allow us to interact with the <a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax
Tree</a> (AST) of the codebase.
Unfortunately, building a correct AST before run-time is not always possible.
Building an always-accurate AST is impossible in any language with reflection,
or weak types, or dynamic types, or those with syntactic macros.</p>
<blockquote>
<p>My first encounter with the AST problem came when a manager asked me to rename
all uses of <code>Contact.Id</code> to <code>Contact.ContactId</code> in a big PHP project.
I renamed all I could find using sed and grep. I ran the program and
encountered hundreds of run-time errors. What did I miss? Someone had stored
the string &ldquo;Id&rdquo; in the database which was read out and combined with PHP magic
to access the <code>Id</code> field on my class! No refactoring tool could have
possibly detected that. That sort of reflection makes it impossible for any
tool to build a completely correct AST.</p>
</blockquote>
<p>Even flagship IDE languages like Java and C# still have a version of this
problem. Sharing dlls or jars to another project breaks semantic AST tools. A
<strong>Rename Symbol</strong> will only detect and modify usages in the current open
project, not every consumer of the produced binary. Reflection and explicit
casting also breaks semantic tools. Depending on your environment and what you
do with binaries, this ranges from a minor nuisance to a major inconvenience.</p>
<p>In the last decade, several IDE&rsquo;s have added plugins that can build an AST from
PHP, Python, Ruby, JavaScript, Clojure, etc by using raw text parsing or through
a modification to the interpreter. While incomplete by nature, these at least
provide some modest functionality as long as the programmer is aware of their
limitations.</p>
<h2 id="run-time-inspection-tools-debuggers-repls">Run-time Inspection Tools (Debuggers, REPLs)</h2>
<p>These tools allow the programmer to execute the code, and inspect what is
happening. They are typically integrated with the language itself, either
provided directly or through a library.</p>
<ul>
<li><strong>Stop at Breakpoint</strong> - Run code to a point and stop execution there</li>
<li><strong>Inspect Call Stack</strong> - See the function calls that led to a breakpoint</li>
<li><strong>Inspect scope</strong> - See all variables in scope at a breakpoint</li>
<li><strong>Execute statement at point</strong> - Run any arbitrary code in the scope of the current breakpoint</li>
<li><strong>Modify the executing code</strong> - Modify variables and functions dynamically in the running code</li>
</ul>
<p>Run-time inspection tools are excellent for seeing how a program is executing.
They allow the programmer direct insight into a running program. There have been
many times when I&rsquo;ve been completed stumped with a program, only to run it with
a debugger and suddenly realize what was happening. If you have access to these
tools, they are worth learning well.</p>
<p>Debuggers are most useful if you can recreate the scenario you need to inspect.
Debuggers will not help for debugging an issue unless you cannot completely
recreate the exact scenario you need. For this reason, unit tests combined with
a debugger are a powerful combo.</p>
<p>Many REPLs (Read Eval Print Loop) allow you to modify the code live while
connected to the running process. Languages like Common Lisp, Smalltalk, and
Clojure are famous for allowing the programmer to replace blocks of code on a
running server: sometimes even in production! Integrated REPLs are an extremely
powerful tool, and powerful tools can be quite dangerous. Knowing how to use a
tool well is the first step in knowing how to use it wisely.</p>
<h2 id="text-based-tools">Text-Based Tools</h2>
<p>A text-based tool operates on raw text only. It can be limited to a single file,
or many files. Text tools do not know anything about the AST or structure, they
only operate on raw text.</p>
<ul>
<li><strong>Find/Replace</strong> - Search for text and replace it</li>
<li><strong>Regular Expressions</strong> - Transform text based on pattern matching rules</li>
<li><strong>Record/Playback Macro</strong> - Record and playback a series of operations</li>
<li><strong>Balance parenthesis/brackets/quotes</strong> - Transform balanced sections</li>
<li><strong>Linting/Style enforcement</strong> - Show places code doesn&rsquo;t match a preferred
style, optionally fix style warnings</li>
</ul>
<p>Consider the common Semantic transformation <strong>Extract Interface</strong>. It takes a
class and generates an interface next to the class containing all the public
functions from the class. The refactoring does not require an AST to work, it
can be easily achieved by combining several text commands. See example in my
post <a href="/vim-refactoring-patterns">Vim Refactoring
Patterns</a></p>
<p>Any refactoring can be replaced with a text macro or regular expression. Here is
where we see the power of good abstractions. Where an IDE refactoring suite may
provide dozens or hundreds of specialized commands that only work in a single
language, a few good text abstractions compose endlessly in any text files.</p>
<p>A skilled user of these basic abstractions can solve any text-based refactoring
in only a few steps. They can invent new refactorings, solving any text
manipulation they need.</p>


  <p class=" bookAdBanner col-xs-12 col-sm-12 col-md-12">
    <span class="col-xs-10 col-sm-10 col-md-10">
      Become a master of <strong>Regular Expressions</strong> or
  <strong>Macros</strong> with practice exercises to teach you how to <i>think</i> using these tools, and identify places
      where they are best used: 
      <a href="https://leanpub.com/deliberatevim">
        10 Minute Vim
      </a>
    </span>
    <a class=" col-xs-2 col-sm-2 col-md-2" href="https://leanpub.com/deliberatevim">
      <img style="padding:1rem" src="/images/vim.jpg"></img>
    </a>
  </p>


<h3 id="balance-parenthesis">Balance Parenthesis</h3>
<p>This set of tools is not very well known, despite being very useful in the right
context. The best example of it is:
<a href="http://danmidwood.com/content/2014/11/21/animated-paredit.html">ParEdit</a></p>
<p>The tool by default prevents the programmer from entering unbalanced characters,
but then offers a suite of commands for transforming them.</p>
<p>ParEdit is less useful in languages with relatively fewer balanced characters,
and most useful in languages where balanced characters contain an entire
expression:</p>
<table>
<thead>
<tr>
<th>Balanced Characters</th>
<th>Languages</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Fewer</strong></td>
<td>Python, Ruby, OCaml/F#, Haskell</td>
</tr>
<tr>
<td><strong>More</strong></td>
<td>C#, Java, Javascript, C++</td>
</tr>
<tr>
<td><strong>Surround Entire Expressions</strong></td>
<td>Clojure, Scheme, Racket</td>
</tr>
</tbody>
</table>
<p>If you regularly use a language in the bottom two rows, you might want to check
out if your editor has an implementation of ParEdit!</p>
<h2 id="conclusion---have-all-tools-at-your-disposal">Conclusion - Have all tools at your disposal</h2>
<p>The real power comes when you can combine Semantic, run-time, and text-based
tools to solve different problems.</p>
<p>For this reason, if you have the ability, you should learn one from each
category of tools available to you.</p>
<ol>
<li>Semantic Tools
<ul>
<li>Intelij IDEA, PyCharm, VS Code, Visual Studio, Eclipse</li>
</ul>
</li>
<li>Run-time Inspection Tools
<ul>
<li>Debuggers in Intelij IDEA, PyCharm, VS Code, Visual Studio, Eclipse</li>
<li>REPL (Python, Ruby, Clojure, Haskell, Javascript, Smalltalk)</li>
</ul>
</li>
<li>Text-based Tools
<ul>
<li>Vim / Emacs (even available an IDE plugin!)</li>
<li>ParEdit</li>
<li>Grep</li>
<li>AWK</li>
</ul>
</li>
</ol>
<p>Mastering each category of tools will go a long way to increasing your ability
to write and transform code efficiently.</p>

  </div>
</div>


      <footer>
  <div class="centereded">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="steveshogren" data-size="large">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

</div>
<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="http://deliberate-software.com/fsharp-design-enums/" title="F# Domain Design: Interdependent Enums and Booleans">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  

</div>

</footer>

    </div>
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3">
      <a href= "/page/philosophy" class="plainlink">
  <div class="sidepic centereded">
    
  </div>
  <h3 class=" col-sm-12 centereded" id="name">steve shogren</h3>
  
  
  
  <span class="col-xs-12 col-sm-12 col-md-12">
    
    
  </span>
  <span class="col-xs-12 col-sm-12 centereded">
    software developer, manager, author, speaker
  </span>
</a>
<h3 class="col-xs-12 col-sm-12" id="name">my books:</h3>


<a class="col-xs-6 col-sm-4 col-md-6" href="https://leanpub.com/deliberatevim">
  <img class="book" src="/images/vim.jpg"></img>
</a>



<a class="col-xs-6 col-sm-4 col-md-6" href="https://www.amazon.com/dp/B01JD0H7XU">
  <img class="book" src="/images/convincingcoworkerscover.jpg"></img>
</a>

<h3 class="col-xs-12 col-sm-12" id="name"></h3>















<h3 class=" col-xs-12 col-sm-12" id="name">posts for:</h3>
<div class="col-xs-12 col-sm-12">
  <ul class="sidebar_ul">
    <li class="sidebar_li"><a href="/page/training">Learn To Program For Free</a></li>
    <li class="sidebar_li"><a href="/page/focused">Developers and managers</a></li>
    <li class="sidebar_li"><a href="/page/post">See All Posts</a></li>
  </ul>
</div>

<script type="text/javascript">
 function shuffle(array) {
     var currentIndex = array.length, temporaryValue, randomIndex ;

     
     while (0 !== currentIndex) {

         
         randomIndex = Math.floor(Math.random() * currentIndex);
         currentIndex -= 1;

         
         temporaryValue = array[currentIndex];
         array[currentIndex] = array[randomIndex];
         array[randomIndex] = temporaryValue;
     }

     return array;
 }

 var linkTexts = [
     "Want to practice your skills? Check out",
     "Practice advanced skills with",
     "Master macros with",
     "50+ exercises included in",
     "Master RegEx with",
     "Start a daily practice with",
     "Over 50 daily exercises in"
 ];
 x=document.getElementsByClassName('thevimlink');
 for(var i = 0; i < x.length; i++){
     x[i].innerText = shuffle(linkTexts)[0];
 }
</script>

    </div>
  </div>
</div>
      <footer class="footer">
    <div class="container hidden-print">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
          <small>
              
    

    


          </small>
        </div>
     </div>
    </div>
</footer>

    <script src="http://deliberate-software.com/js/jquery.min-2.1.4.js"></script>
<script src="http://deliberate-software.com/js/bootstrap.min-3.3.5.js"></script>
<script src="http://deliberate-software.com/js/github-calendar.js"></script>




<script src="http://deliberate-software.com/js/highlight.pack.js"></script>
<script src="http://deliberate-software.com/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
if (document.location.hostname.search("deliberate-software.com") !== -1) {
  var _gaq=[['_setAccount','UA-46040901-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
}
</script>




  </body>
</html>


